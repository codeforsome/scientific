webpackJsonp([7],{"+2jD":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("2CGT"),a={data:function(){return{keyword:[],inputVisible:!1,inputValue:"",thesisTitle:"",abstracts:"",disciplineSpecialtyList:[{value:"互联网",label:"互联网"},{value:"金融",label:"金融"},{value:"文学",label:"文学"},{value:"创新",label:"创新"},{value:"工业技术",label:"工业技术"},{value:"电子工程与计算机",label:"电子工程与计算机"},{value:"环境",label:"环境"},{value:"政治",label:"政治"}],disciplineSpecialty:"",tip:"",success:!1}},methods:{back:function(){this.$router.go(-1)},handleClose:function(t){this.keyword.splice(this.keyword.indexOf(t),1)},successFile:function(){this.success=!0},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(s){t.$refs.saveTagInput.$refs.input.focus()})},checkInput:function(){return""===this.thesisTitle?(this.$refs.title.focus(),!1):""===this.abstracts?(this.$refs.abstracts.focus(),!1):!1!==this.success||(this.tip="请上传文件",!1)},handleInputConfirm:function(){var t=this.inputValue;t&&this.keyword.push(t),this.inputVisible=!1,this.inputValue=""},submit:function(){var t=this;if(this.checkInput()){var s={};s.disciplineSpecialty=this.disciplineSpecialty,s.abstracts=this.abstracts,s.keyword=this.keyword.join("-"),s.title=this.thesisTitle,Object(i.b)(s).then(function(s){var e=s.data;t.tip=e.msg,e.success&&setTimeout(function(){t.$router.push({name:"My"})},1e3)},function(t){})}}}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"thesis-add"},[e("div",{staticClass:"thesis"},[e("div",{staticClass:"row"},[e("span",{staticClass:"name"},[t._v("论文名称：")]),t._v(" "),e("div",{staticClass:"input-wrap"},[e("el-input",{ref:"title",attrs:{placeholder:"请输入论文名",maxlength:"20",clearable:""},model:{value:t.thesisTitle,callback:function(s){t.thesisTitle=s},expression:"thesisTitle"}})],1)]),t._v(" "),e("div",{staticClass:"row"},[e("span",{staticClass:"name"},[t._v("论文摘要：")]),t._v(" "),e("div",{staticClass:"input-wrap"},[e("el-input",{ref:"abstracts",attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:"请输入摘要"},model:{value:t.abstracts,callback:function(s){t.abstracts=s},expression:"abstracts"}})],1)]),t._v(" "),e("div",{staticClass:"row"},[e("span",{staticClass:"name"},[t._v("关键词：")]),t._v(" "),e("div",{staticClass:"input-wrap keyword-wrap"},[t._l(t.keyword,function(s){return e("el-tag",{key:s,attrs:{closable:"","disable-transitions":!1},on:{close:function(e){return t.handleClose(s)}}},[t._v(t._s(s))])}),t._v(" "),t.inputVisible?e("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.handleInputConfirm(s)}},model:{value:t.inputValue,callback:function(s){t.inputValue=s},expression:"inputValue"}}):e("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+关键词")])],2)]),t._v(" "),e("div",{staticClass:"row"},[e("span",{staticClass:"name"},[t._v("学科专业：")]),t._v(" "),e("div",{staticClass:"change-wrap"},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.disciplineSpecialty,callback:function(s){t.disciplineSpecialty=s},expression:"disciplineSpecialty"}},t._l(t.disciplineSpecialtyList,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"/api/file/add","on-success":t.successFile,multiple:""}},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"el-upload__text"},[t._v("\n          将文件拖到此处，或\n          "),e("em",[t._v("点击上传")])]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("请上传word或者pdf文档")])])],1),t._v(" "),e("div",{staticClass:"row"},[e("el-button",{staticClass:"register",attrs:{round:""},on:{click:function(s){return t.back()}}},[t._v("返回上一级")]),t._v(" "),e("el-button",{staticClass:"register",attrs:{round:""},on:{click:function(s){return t.submit()}}},[t._v("提交信息")])],1),t._v(" "),e("div",{staticClass:"tip-error-wrap"},[e("span",{staticClass:"tip-error"},[t._v(t._s(t.tip))])])])])},staticRenderFns:[]};var n=e("VU/8")(a,l,!1,function(t){e("pp9U"),e("sk4p")},"data-v-20e91246",null);s.default=n.exports},pp9U:function(t,s){},sk4p:function(t,s){}});
//# sourceMappingURL=7.2358f5798d64560f3bbf.js.map