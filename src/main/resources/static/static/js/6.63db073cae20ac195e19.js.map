{"version":3,"sources":["webpack:///src/page/Login.vue","webpack:///./src/page/Login.vue?6c92","webpack:///./src/page/Login.vue","webpack:///./src/assets/img/login_bg.jpg"],"names":["Login","data","username","password","tip","methods","checkUsername","val","this","$refs","inputUsername","focus","test","checkPassword","inputPassword","submit","_this","login","Object","api","then","result","msg","success","userType","$store","dispatch","user","userToken","localStorage","setItem","stringify_default","state","setTimeout","$router","push","name","error","console","log","page_Login","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","placeholder","autofocus","maxlength","prefix-icon","model","value","callback","$$v","expression","show-password","to","round","on","click","$event","_s","staticRenderFns","src","__webpack_require__","alt","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/6.63db073cae20ac195e19.js","sourcesContent":["<template>\r\n  <div class=\"login-wrap\">\r\n    <div class=\"left-wrap\">\r\n      <img class=\"register-bg\" src=\"./../assets/img/login_bg.jpg\" alt />\r\n    </div>\r\n    <div class=\"right-wrap\">\r\n      <div class=\"title-wrap\">\r\n        <span class=\"title\">用户登陆</span>\r\n      </div>\r\n      <div class=\"input-wrap\">\r\n        <div class=\"demo-input-suffix\">\r\n          <el-input\r\n            class=\"input-user\"\r\n            placeholder=\"请输入账号\"\r\n            autofocus=\"true\"\r\n            maxlength=\"10\"\r\n            prefix-icon=\"el-icon-user-solid\"\r\n            v-model=\"username\"\r\n            ref=\"inputUsername\"\r\n          ></el-input>\r\n          <el-input\r\n            class=\"input-password\"\r\n            placeholder=\"请输入密码\"\r\n            maxlength=\"10\"\r\n            prefix-icon=\"el-icon-lock\"\r\n            v-model=\"password\"\r\n            ref=\"inputPassword\"\r\n            show-password\r\n          ></el-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"bottom-wrap\">\r\n        <router-link  class=\"login-link\" :to=\"{name:'Register'}\">还没账号?点我注册</router-link>\r\n        <el-button class=\"register\" @click=\"submit()\" round>登陆</el-button>\r\n      </div>\r\n      <div class=\"back-index\">\r\n        <router-link class=\"index-link\" :to=\"{name:'Main'}\">返回首页</router-link>\r\n      </div>\r\n      <div class=\"tip-error-wrap\">\r\n        <span class=\"tip-error\">{{tip}}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { loginVerify} from \"./../request/api\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      tip: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n   checkUsername(val) {\r\n      var reg = /^[A-Za-z0-9]{1,10}$/;\r\n      if(val===''){\r\n        this.$refs.inputUsername.focus();\r\n        this.tip = \"账号不能为空\";\r\n        return false;\r\n      }\r\n      else if (!reg.test(val)) {\r\n        this.$refs.inputUsername.focus();\r\n        this.username = \"\";\r\n        this.tip = \"账号输入只能是字母和数字组合\";\r\n        return false\r\n      } else {\r\n        this.tip = \"\";\r\n        return true;\r\n      }\r\n    },\r\n    checkPassword(val) {\r\n      var reg = /^[A-Za-z0-9]{1,10}$/;\r\n     if(val===''){\r\n        this.$refs.inputPassword.focus();\r\n        this.tip = \"密码不能为空\";\r\n        return false;\r\n      }\r\n      else  if (!reg.test(val)) {\r\n        this.$refs.inputPassword.focus();\r\n        this.password = \"\";\r\n        this.tip = \"密码输入只能是字母和数字组合\";\r\n        return false;\r\n      } else {\r\n        this.tip = \"\";\r\n        return true;\r\n      }\r\n    },\r\n    submit() {\r\n      if(!this.checkUsername(this.username)){\r\n        return;\r\n      }\r\n      if(!this.checkPassword(this.password)){\r\n        return;\r\n      }\r\n      this.checkUsername(this.username);\r\n      this.checkPassword(this.password);\r\n      let login = {};\r\n      login.username = this.username;\r\n      login.password = this.password;\r\n      loginVerify(login).then((val)=>{\r\n        let result=val.data;\r\n        this.tip=result.msg;\r\n        if(result.success){\r\n            let userType=result.data.userType;\r\n            this.$store.dispatch('setUser',result.data.user);\r\n            this.$store.dispatch('setUserType',userType);\r\n           this.$store.dispatch('setToken',result.data.userToken);\r\n          localStorage.setItem(\"storeState\",JSON.stringify(this.$store.state))\r\n           setTimeout(() => {\r\n          this.$router.push({name:'Main'})            \r\n          }, 1200);\r\n        }\r\n      },function(error){\r\n        console.log(error);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@paddingSize: 25px;\r\n.blockWidth {\r\n  width: 300px;\r\n  margin: 0 auto;\r\n  padding-top: @paddingSize;\r\n}\r\n\r\n.login-wrap {\r\n  font-size: 16px;\r\n  display: flex;\r\n  height: 100vh;\r\n  color: @themeColor;\r\n  > .left-wrap {\r\n    width: 50%;\r\n    height: 100%;\r\n    @media screen {\r\n      @media (max-width: 700px) {\r\n        display: none;\r\n      }\r\n    }\r\n    > .register-bg {\r\n      display: block;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  > .right-wrap {\r\n    width: 50%;\r\n    padding-top: @paddingSize;\r\n    @media screen {\r\n      @media (max-width: 700px) {\r\n        width: 90%;\r\n        min-width: 320px;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n    > .title-wrap {\r\n      padding: @paddingSize 0;\r\n      text-align: center;\r\n      > .title {\r\n        font-size: 2.5em;\r\n      }\r\n    }\r\n    .input-wrap {\r\n      .blockWidth();\r\n    }\r\n    .input-password {\r\n      margin-top: @paddingSize;\r\n    }\r\n    .bottom-wrap {\r\n      .blockWidth();\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: flex-end;\r\n      padding-bottom: 6px;\r\n      border-bottom: 1px solid @themeColor;\r\n      > .login-link {\r\n        color: #666;\r\n        font-size: 0.8em;\r\n        padding-bottom: 6px;\r\n        &:hover {\r\n          color: @themeColor;\r\n        }\r\n      }\r\n      > .register {\r\n        color: #fff;\r\n        background-color: @backgroundColor;\r\n      }\r\n    }\r\n    .tip-error-wrap {\r\n      .blockWidth();\r\n      text-align: center;\r\n    }\r\n    .back-index{\r\n      .blockWidth();\r\n      .index-link{\r\n        font-size: 14px;\r\n        color:  @themeColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-wrap\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"right-wrap\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"input-wrap\"},[_c('div',{staticClass:\"demo-input-suffix\"},[_c('el-input',{ref:\"inputUsername\",staticClass:\"input-user\",attrs:{\"placeholder\":\"请输入账号\",\"autofocus\":\"true\",\"maxlength\":\"10\",\"prefix-icon\":\"el-icon-user-solid\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_vm._v(\" \"),_c('el-input',{ref:\"inputPassword\",staticClass:\"input-password\",attrs:{\"placeholder\":\"请输入密码\",\"maxlength\":\"10\",\"prefix-icon\":\"el-icon-lock\",\"show-password\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"bottom-wrap\"},[_c('router-link',{staticClass:\"login-link\",attrs:{\"to\":{name:'Register'}}},[_vm._v(\"还没账号?点我注册\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"register\",attrs:{\"round\":\"\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"登陆\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"back-index\"},[_c('router-link',{staticClass:\"index-link\",attrs:{\"to\":{name:'Main'}}},[_vm._v(\"返回首页\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"tip-error-wrap\"},[_c('span',{staticClass:\"tip-error\"},[_vm._v(_vm._s(_vm.tip))])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"left-wrap\"},[_c('img',{staticClass:\"register-bg\",attrs:{\"src\":require(\"./../assets/img/login_bg.jpg\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-wrap\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"用户登陆\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25abfa68\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25abfa68\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"E:\\\\\\\\web\\\\\\\\vue-scientific-research\\\\\\\\vue-scientific-research\\\\\\\\src\\\\\\\\assets\\\\\\\\css\\\\\\\\base.less\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25abfa68\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25abfa68\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Login.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/login_bg.86ee52f.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/login_bg.jpg\n// module id = npKG\n// module chunks = 3 6"],"sourceRoot":""}