webpackJsonp([5],{MC1B:function(t,s){},MJNV:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("2CGT"),a={data:function(){return{keyword:[],inputVisible:!1,inputValue:"",thesisTitle:"",abstracts:"",filePath:"",disciplineSpecialtyList:[{value:"互联网",label:"互联网"},{value:"金融",label:"金融"},{value:"文学",label:"文学"},{value:"创新",label:"创新"},{value:"工业技术",label:"工业技术"},{value:"电子工程与计算机",label:"电子工程与计算机"}],disciplineSpecialty:"",tip:"",success:!1}},methods:{handleClose:function(t){this.keyword.splice(this.keyword.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(s){t.$refs.saveTagInput.$refs.input.focus()})},successFile:function(){this.success=!0},handleInputConfirm:function(){var t=this.inputValue;t&&this.keyword.push(t),this.inputVisible=!1,this.inputValue=""},checkInput:function(){return""===this.thesisTitle?(this.$refs.title.focus(),!1):""!==this.abstracts||(this.$refs.abstracts.focus(),!1)},submit:function(){var t=this;if(this.checkInput()){var s={},i=this.$route.params.id;this.success||(s.filePath=this.filePath),s.id=i,s.disciplineSpecialty=this.disciplineSpecialty,s.abstracts=this.abstracts,s.keyword=this.keyword.join("-"),s.title=this.thesisTitle,Object(e.v)(s).then(function(s){var i=s.data;t.tip=i.msg,i.success&&setTimeout(function(){t.$router.push({name:"My"})},1e3)},function(t){})}}},created:function(){var t=this,s=this.$route.params.id;Object(e.j)({id:s}).then(function(s){var i=s.data.data;t.keyword=i.keyword.split("-"),t.thesisTitle=i.title,t.abstracts=i.abstracts,t.disciplineSpecialty=i.disciplineSpecialty,t.filePath=i.filePath},function(t){})}},l={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"thesie-edit"},[i("div",{staticClass:"thesis"},[i("div",{staticClass:"row"},[i("span",{staticClass:"name"},[t._v("论文名称：")]),t._v(" "),i("div",{staticClass:"input-wrap"},[i("el-input",{ref:"title",attrs:{placeholder:"请输入论文名",maxlength:"20",clearable:""},model:{value:t.thesisTitle,callback:function(s){t.thesisTitle=s},expression:"thesisTitle"}})],1)]),t._v(" "),i("div",{staticClass:"row"},[i("span",{staticClass:"name"},[t._v("论文摘要：")]),t._v(" "),i("div",{staticClass:"input-wrap"},[i("el-input",{ref:"abstracts",attrs:{type:"textarea",maxlength:"600",autosize:{minRows:2,maxRows:6},placeholder:"请输入摘要"},model:{value:t.abstracts,callback:function(s){t.abstracts=s},expression:"abstracts"}})],1)]),t._v(" "),i("div",{staticClass:"row"},[i("span",{staticClass:"name"},[t._v("关键词：")]),t._v(" "),i("div",{staticClass:"input-wrap keyword-wrap"},[t._l(t.keyword,function(s){return i("el-tag",{key:s,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){return t.handleClose(s)}}},[t._v(t._s(s))])}),t._v(" "),t.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.handleInputConfirm(s)}},model:{value:t.inputValue,callback:function(s){t.inputValue=s},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+关键词")])],2)]),t._v(" "),i("div",{staticClass:"row"},[i("span",{staticClass:"name"},[t._v("学科专业：")]),t._v(" "),i("div",{staticClass:"change-wrap"},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.disciplineSpecialty,callback:function(s){t.disciplineSpecialty=s},expression:"disciplineSpecialty"}},t._l(t.disciplineSpecialtyList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),i("div",{staticClass:"row"},[i("span",{staticClass:"name"},[t._v("论文文件：")]),t._v(" "),i("a",{attrs:{href:t.filePath}},[t._v("点击下载论文")])]),t._v(" "),i("div",{staticClass:"row"},[i("el-upload",{staticClass:"upload-demo",attrs:{"on-success":t.successFile,drag:"",action:"/api/file/add",multiple:""}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[t._v("\n          将文件拖到此处，或\n          "),i("em",[t._v("点击上传")])]),t._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("请上传word或者pdf文档")])])],1),t._v(" "),i("div",{staticClass:"row"},[i("el-button",{staticClass:"register",attrs:{round:""},on:{click:function(s){return t.submit()}}},[t._v("提交信息")])],1),t._v(" "),i("div",{staticClass:"tip-error-wrap"},[i("span",{staticClass:"tip-error"},[t._v(t._s(t.tip))])])])])},staticRenderFns:[]};var n=i("VU/8")(a,l,!1,function(t){i("MC1B"),i("ORls")},"data-v-43edaadd",null);s.default=n.exports},ORls:function(t,s){}});
//# sourceMappingURL=5.3c6451dfab1e4bc1e88f.js.map